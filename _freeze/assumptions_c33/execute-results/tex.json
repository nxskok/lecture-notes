{
  "hash": "e7d1cf9c64f7ea94cb5fc95920b94571",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Assumptions\"\n---\n\n\n\n\n## Assumptions\n\n- The $t$ procedures we have seen so far come with assumption of normally-distributed data\n- but how much does that normality matter?\n- Central Limit Theorem says that sampling distribution of sample mean is \"approximately normal\" if sample size is \"large\".\n- Hence same applies to difference of two sample means.\n- How to use this in practice? Draw a picture and make a call about whether sample size large enough.\n\n## Blue Jays attendances\n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(jays, aes(sample = attendance)) + \n  stat_qq() + stat_qq_line()\n```\n\n::: {.cell-output-display}\n![](assumptions_c33_files/figure-beamer/inference-1-R-66-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n## Comments\n\n- Distribution of attendances somewhat skewed to the right (because of the short lower tail and the sort-of curve)\n- Sample size $n = 25$ is reasonably large in  Central Limit Theorem terms\n- Use of $t$ *may* be OK here despite skewed shape.\n\n## Learning to read\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n- Make normal quantile plots, one for each sample:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(kids, aes(sample = score)) + \n  stat_qq() + stat_qq_line() +\n  facet_wrap(~ group)\n```\n\n::: {.cell-output-display}\n![](assumptions_c33_files/figure-beamer/inference-1-R-14-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n## Comments\n\n- with sample sizes over 20 in each group, these are easily normal enough to use a $t$-test.\n- the (sampling distribution of the) difference between two sample means tends to have a more normal distribution than either sample mean individually, so that two-sample $t$ tends to be better than you'd guess.\n\n## Pain relief\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n- With matched pairs, assumption is of normality of *differences*, so work those out first:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npain %>% mutate(diff = druga - drugb) -> pain\npain\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 12 x 4\n   subject druga drugb    diff\n     <dbl> <dbl> <dbl>   <dbl>\n 1       1   2     3.5  -1.5  \n 2       2   3.6   5.7  -2.1  \n 3       3   2.6   2.9  -0.300\n 4       4   2.6   2.4   0.200\n 5       5   7.3   9.9  -2.6  \n 6       6   3.4   3.3   0.100\n 7       7  14.9  16.7  -1.80 \n 8       8   6.6   6     0.600\n 9       9   2.3   3.8  -1.5  \n10      10   2     4    -2    \n11      11   6.8   9.1  -2.3  \n12      12   8.5  20.9 -12.4  \n```\n\n\n:::\n:::\n\n\n\n\n## Normality of differences\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(pain,aes(sample=diff)) + stat_qq() + stat_qq_line()\n```\n\n::: {.cell-output-display}\n![](assumptions_c33_files/figure-beamer/inference-4b-R-67-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n## Comments\n\n- This is very non-normal (the low outlier)\n- The sample size of $n = 12$ is not large\n- We should have concerns about our matched pairs $t$-test.\n\n## Doing things properly\n\n- The right way to use a $t$ procedure:\n  - draw a graph of our data (one of the standard graphs, or normal quantile plot)\n  - use the graph to assess sufficient normality given the sample size\n  - for a two-sample test, assess equality of spreads (boxplot easier for this)\n  - if necessary, express our doubts about the $t$ procedure (for now), or do a better test (later).\n\n## Looking ahead\n\n- Looking at a normal quantile plot and assessing it with the sample size seems rather arbitrary. Can we do better? (Yes: using the bootstrap, later.)\n- What to do if the $t$ procedure is not to be trusted? Use a different test (later):\n  - one sample: sign test\n  - two samples: Mood's median test\n  - matched pairs: sign test on differences.\n   \n- If you have heard about the signed rank or rank sum tests: they come with extra assumptions that are usually not satisfied if normality fails.\n",
    "supporting": [
      "assumptions_c33_files/figure-beamer"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}